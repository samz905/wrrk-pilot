search_reddit_discussions:
  description: |
    Find the top {desired_results} Reddit discussions relevant to: {search_query}

    Use the Reddit Discussion Search tool with:
    - query: {search_query}
    - desired_results: {desired_results}

    The tool will return scored and filtered discussions. Extract exactly {desired_results}
    discussions from the tool output.

  expected_output: |
    Return a JSON object with a "discussions" array containing exactly {desired_results} items.

    Each discussion must have:
    - title: Post title
    - url: Reddit post URL
    - subreddit: Subreddit name (without r/)
    - upvotes: Number of upvotes
    - num_comments: Number of comments
    - intent_score: Score from 0-100
    - reasoning: Why this discussion is relevant

  agent: reddit_intelligence_agent

extract_reddit_leads:
  description: |
    Extract Reddit users with buying intent from the discussions found in Task 1.

    From the previous task output, extract all discussion URLs.

    Use the Reddit Lead Extraction tool with:
    - query: {search_query}
    - post_urls: List of URLs from the discussions in Task 1

    The tool will analyze posts and comments to find users with buying intent.

  expected_output: |
    Return a JSON object with a "leads" array.

    Each lead must have:
    - username: Reddit username (without u/)
    - profile_url: https://reddit.com/u/[username]
    - buying_signal: Exact quote showing intent (max 100 chars)
    - intent_score: Score from 0-100
    - fit_reasoning: 2-3 sentences explaining why they're a good lead
    - source_url: URL of the discussion where found
    - source_subreddit: Subreddit name

  agent: lead_extraction_agent
