search_linkedin_posts:
  description: |
    Find the top {desired_results} LinkedIn posts relevant to: {search_query}

    Use the LinkedIn Posts Search tool with:
    - query: {search_query}
    - max_results: {desired_results} multiplied by 3 (to filter down to best)

    The tool returns posts with intent scores. Extract the top {desired_results} posts
    with the highest intent scores.

  expected_output: |
    Return a JSON object with a "posts" array containing exactly {desired_results} items.

    Each post must have:
    - author_name: Name of the poster
    - author_title: Job title/headline
    - author_url: LinkedIn profile URL
    - post_content: The post text (max 300 chars)
    - post_url: URL to the post
    - likes: Number of likes
    - comments: Number of comments
    - intent_score: Score from 0-100
    - intent_signal: Why this shows buying intent

  agent: linkedin_intelligence_agent

extract_linkedin_leads:
  description: |
    Extract LinkedIn users with buying intent from the posts found in Task 1.

    From the previous task output, extract the post URLs from each post.

    Use the LinkedIn Lead Extraction tool with:
    - query: {search_query}
    - post_urls: List of post URLs from Task 1

    The tool will analyze posts and commenters to find users with buying intent.

  expected_output: |
    Return a JSON object with a "leads" array.

    Each lead must have:
    - name: Full name
    - title: Job title
    - company: Company name
    - linkedin_url: Profile URL
    - intent_signal: Quote or action showing intent (max 100 chars)
    - intent_score: Score from 0-100
    - fit_reasoning: Why they're a good lead for {search_query}
    - source_post_url: Where they were found

  agent: lead_extraction_agent
